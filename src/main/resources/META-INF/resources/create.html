<!DOCTYPE html>
<html ng-app="wh40kbc" class="no-js" lang="en" ng-strict-di>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="pragma" content="no-cache" />
<meta name="robots" content="noindex">
<title>Warhammer 40K Black Crusade Creation</title>
<link href='https://fonts.googleapis.com/css?family=Droid+Sans:400,700' rel='stylesheet' type='text/css' />
<link href='css/reset.css' media='screen' rel='stylesheet' type='text/css' />
<link href='css/screen.css' media='screen' rel='stylesheet' type='text/css' />
<link href='css/reset.css' media='print' rel='stylesheet' type='text/css' />
<link href='css/screen.css' media='print' rel='stylesheet' type='text/css' />
<link href='css/custom.css' media='screen' rel='stylesheet' type='text/css' />
<link href='css/custom.css' media='print' rel='stylesheet' type='text/css' />
<link href='css/foundation.css' media='print' rel='stylesheet' type='text/css' />
<link href='css/foundation.css' media='screen' rel='stylesheet' type='text/css' />
<link href='css/bootstrap.min.css' media='screen' rel='stylesheet' type='text/css' />
<link href='css/bootstrap.min.css' media='print' rel='stylesheet' type='text/css' />
<link href='css/jquery-ui.css' media='screen' rel='stylesheet' type='text/css' />
<link href='css/jquery-ui.css' media='print' rel='stylesheet' type='text/css' />
<link href='css/jquery-ui.structure.css' media='screen' rel='stylesheet' type='text/css' />
<link href='css/jquery-ui.structure.css' media='print' rel='stylesheet' type='text/css' />
<link href='css/jquery-ui.theme.css' media='screen' rel='stylesheet' type='text/css' />
<link href='css/jquery-ui.theme.css' media='print' rel='stylesheet' type='text/css' />


<script src="js/jquery.js"></script>
<script src="js/jquery-ui.js"></script>
<script src="js/foundation.min.js"></script> 
<script src="js/angular.js"></script>
<script src="js/Application.js"></script>
<script src="js/CreationController.js"></script>
<script src="js/CreationService.js"></script>
<script src="js/MasterDataService.js"></script>
</head>
<body class="swagger-section">
	
	<div id='header'>
		<div class="swagger-ui-wrap">
			<a id="logo" href="http://www.games-workshop.com/">Warhammer 40K Black Crusade Creation</a>
		</div>
	</div>
	
	<div ng-controller="CreationController" class="medium-12 columns table-list">
	
	    <div class="medium-6 columns">	    	    
	    
		    <div>
	            <div class="subHeader">RACES</div>
				<div>
	                Please select a race: <select ng-model="selectedRace" ng-change="createNewCharacter(selectedRace)" ng-options="race.name for race in masterData().races"></select>
				</div>
			</div>
			
			<hr>
	
			<div ng-show="selectedRace">
			
				<div>
					<div class="subHeader">CHARACTERISTICS</div>
					<div ng-show="!acceptedCharacteristics">			
					     Please roll your characteristics: <input type="button" value="Roll" ng-click="creation().getCharacteristics(selectedRace)" />
					</div>
					<div ng-show="creation().characteristics" >
						<div ng-repeat="attr in creation().characteristics">				
							<div class="medium-12 columns table-list">
				                <div class="medium-8 columns">{{ attr.type }}</div>	        
				                <div class="medium-2 columns">{{attr.value}}</div>
				                <div class="medium-2 columns end">({{attr.modifiedBonus}})</div>
				            </div>				   
	            		</div>
					</div>			
		            <div ng-show="creation().characteristics && !acceptedCharacteristics">
				          Please accept or reroll: <input type="button" ng-click="acceptCharacteristicsRolls()" value="Accept" />
					</div>
				</div>
				
				<hr>
	
				<div ng-show="acceptedCharacteristics">
				    
	                <div>
						<div class="subHeader">CLASSES</div>
						<div>
						Please select a class: <select ng-model="selectedClass" ng-change="setClass(selectedClass)" ng-options="class.name for class in creation().availableClasses"></select>
						</div>
					</div>
					
	                <hr>
	                
					<div ng-show="selectedClass">
				
						<div ng-show="creation().character.psyRating.value > 0">
							<div class="subHeader">PSY RATING</div>
							<div class="medium-12 columns table-list">
				                <div class="medium-8 columns">{{ creation().character.psyRating.value }}</div>	        
				            </div>				   
						</div>
						
						<hr>
														
						<div>
							<div class="subHeader">WOUNDS</div>
							<div ng-show="!acceptedWounds">			
							     Please roll your wounds: <input type="button" value="Roll" ng-click="creation().getWounds(selectedClass)" />
							</div>
							<div ng-show="creation().wounds" >
									<div class="medium-12 columns table-list">
						                <div class="medium-8 columns">{{ creation().wounds.value }}</div>	        
						            </div>				   
			            	</div>
				            <div ng-show="creation().wounds.value && !acceptedWounds">
						          Please accept or reroll: <input type="button" ng-click="acceptWoundsRolls()" value="Accept" />
							</div>
						</div>
						
						<hr>
					
                        <div>
							<div class="subHeader">SKILLS</div>
							<div ng-repeat="container in creation().skills">								
			                    <div ng-repeat="skill in container.selectionContainer">
			                        <div>
				                        <div ng-if="skill.type == 'SINGLE'">
				                          	<div ng-if="skill.values[0].specialisable">
				                        		<div ng-repeat="subskill in masterData().findSubSkills(skill.values[0].name)">
				                        			<label><input type="radio" ng-model="$parent.selectedItem" value="{{ subskill.name }}"> {{ subskill.name }} </label>
				                        		</div>
				                        	</div>
				                        	<div ng-if="!skill.values[0].specialisable">
				                        	  	<label><input ng-disabled="true" type="checkbox" checked="checked" value=" {{ skill.values[0].name }} "> {{ skill.values[0].name }} </label>
				                    	    </div>			                    
				                    	</div>
				                        <div ng-if="skill.type == 'MULTI'">
				                          	<div ng-if="skill.values[0].specialisable">
				                        		<div ng-repeat="subskill in masterData().findSubSkills(skill.values[0].name)">
				                        			<label><input type="checkbox" ng-model="subskill.checked" ng-change="checkChanged(subskill, checkedSkills)" ng-disabled="checkedSkills==skill.values.length  && !subskill.checked"> {{ subskill.name }} </label>
				                        		</div>
				                        	</div>
				                        </div>
				                        <div ng-if="skill.type == 'DECISION'" ng-init="selectedItem = skill.values[0].name">
				                        	<label><input type="radio" ng-model="selectedItem" value="{{skill.values[0].name}}"> {{ skill.values[0].name }} </label>
				                        	<label><input type="radio" ng-model="selectedItem" value="{{skill.values[1].name}}"> {{ skill.values[1].name }} </label>
				                         </div>
			                        </div>
		                        	<hr>
		                        </div>	
		                    </div>
	                    </div>
	                    
	                    <hr>
	                    
	                    <div>
		                    <div class="subHeader">TALENTS</div>
		                    <div ng-repeat="container in creation().talents">			                    
			    		        <div ng-repeat="talent in container.selectionContainer">
			                        <div>
				                        <div ng-if="talent.type == 'SINGLE' || skill.type == 'MULTI'">
				                        	  <label><input ng-disabled="true" type="checkbox" checked="checked" value=" {{ talent.values[0].name }} "> {{ talent.values[0].name }}  {{ talent.values[0].modifiers }} </label>
				                    	</div>
				                        <div ng-if="skill.type == 'DECISION'" ng-init="selectedItem = talent.values[0].name">
				                        	<label><input type="radio" ng-model="selectedItem" value="{{talent.values[0].name}}"> {{ talent.values[0].name }} {{ talent.values[0].modifiers }} </label>
				                        	<label><input type="radio" ng-model="selectedItem" value="{{talent.values[1].name}}"> {{ talent.values[1].name }}  {{ talent.values[1].modifiers }} </label>
				                         </div>
			                        </div>
			                    </div>	  
		                    </div>             
	                    </div>
						
						<hr>
						
						<div class="subHeader">PRIDES</div>
						<div ng-repeat="pride in masterData().prides">
							<div>
								{{ pride.name }} <span ng-show="pride.modifiers" ng-repeat="value in pride.modifiers" class="characeteristic"><span ng-show="!value.type.name">{{ value.type }}</span><span ng-show="value.type.name">{{ value.type.name }}</span> + {{value.value}} </span>
							</div>
						</div>						
						
						<hr>
						
						<div class="subHeader">MOTIVATIONS</div>
						<div ng-repeat="motivation in masterData().motivations">
							<div>
								{{ motivation.name }} <span ng-show="motivation.modifiers" ng-repeat="value in motivation.modifiers" class="characeteristic"><span ng-show="!value.type.name">{{ value.type }}</span><span ng-show="value.type.name">{{ value.type.name }}</span> + {{value.value}} </span>
							</div>
						</div>
						
						<hr>
						
						<div class="subHeader">DISGRACES</div>
						<div ng-repeat="disgrace in masterData().disgraces">
							<div>
								{{ disgrace.name }} <span ng-show="disgrace.modifiers" ng-repeat="value in disgrace.modifiers" class="characeteristic"><span ng-show="!value.type.name">{{ value.type }}</span><span ng-show="value.type.name">{{ value.type.name }}</span> + {{value.value}} </span>
							</div>
						</div>
						
					</div>
				</div>
			</div>
		</div>
				
	    <div ng-show="debug" class="medium-6 columns end" style="background-color:grey;">
           <pre>{{ debugCharacter() }}</pre>
        </div> 
	</div>
</body>
</html>
